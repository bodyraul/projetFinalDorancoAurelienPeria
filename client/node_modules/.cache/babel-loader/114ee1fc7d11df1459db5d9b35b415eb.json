{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\aurel\\\\OneDrive\\\\Bureau\\\\projetFinal\\\\client\\\\src\\\\pages\\\\annonces\\\\ListesAnnonces.jsx\",\n  _s = $RefreshSig$();\nimport React from 'react';\nimport axios from \"axios\";\nimport { useEffect } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function ListesAnnonces(_ref) {\n  _s();\n  let {\n    token,\n    annonces,\n    setannonces,\n    setnom,\n    setprix,\n    setqte,\n    setdescription,\n    setphoto,\n    setid\n  } = _ref;\n  useEffect(() => {\n    console.log(\"oui\");\n    const authorization = {\n      headers: {\n        Authorization: `Bearer ${token}`\n      }\n    };\n    axios.get(\"/annonce/getAnnonceUser\", authorization).then(reponse => {\n      setannonces(reponse.data);\n    }).catch(erreur => {\n      console.log(erreur);\n    });\n  }, []);\n  const deleteAnnonce = id => {\n    const authorization = {\n      headers: {\n        Authorization: `Bearer ${token}`\n      }\n    };\n    axios.delete(`/annonce/${id}`, authorization).then(res => setannonces(annonces.filter(annonces => annonces._id !== id))).catch(err => console.log(err));\n  };\n  const majAnnonce = annonce => {\n    setnom(annonce.nom);\n    setdescription(annonce.description);\n    setprix(annonce.prix);\n    setqte(annonce.qte);\n    setphoto(annonce.photo);\n    setid(annonce._id);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: annonces.map(annonces => {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          children: annonces.nom\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: annonces.prix\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: annonces.description\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: annonces.photo\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: annonces.qteDispo\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => deleteAnnonce(annonces._id),\n          children: \"supprimer\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          children: \"modifier\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 21\n        }, this)]\n      }, annonces._id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 17\n      }, this);\n    })\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 54,\n    columnNumber: 5\n  }, this);\n}\n_s(ListesAnnonces, \"OD7bBpZva5O2jO+Puf00hKivP7c=\");\n_c = ListesAnnonces;\nvar _c;\n$RefreshReg$(_c, \"ListesAnnonces\");","map":{"version":3,"names":["React","axios","useEffect","ListesAnnonces","token","annonces","setannonces","setnom","setprix","setqte","setdescription","setphoto","setid","console","log","authorization","headers","Authorization","get","then","reponse","data","catch","erreur","deleteAnnonce","id","delete","res","filter","_id","err","majAnnonce","annonce","nom","description","prix","qte","photo","map","qteDispo"],"sources":["C:/Users/aurel/OneDrive/Bureau/projetFinal/client/src/pages/annonces/ListesAnnonces.jsx"],"sourcesContent":["import React from 'react'\r\nimport axios from \"axios\";\r\nimport { useEffect } from 'react';\r\n\r\n\r\nexport default function ListesAnnonces({\r\n    token,\r\n    annonces,\r\n    setannonces,\r\n    setnom,\r\n    setprix,\r\n    setqte,\r\n    setdescription,\r\n    setphoto,\r\n    setid\r\n}) {\r\n     \r\n    \r\n\r\n    useEffect(() => {\r\n        console.log(\"oui\");\r\n        const authorization = {\r\n            headers:{\r\n                Authorization :   `Bearer ${token}`,\r\n            },\r\n        };\r\n        axios.get(\"/annonce/getAnnonceUser\",authorization)\r\n        .then((reponse)=>{setannonces(reponse.data);})\r\n        .catch((erreur)=>{console.log(erreur)});\r\n       \r\n    },[]);\r\n\r\n    const deleteAnnonce = (id)=>{\r\n        const authorization = {\r\n            headers:{\r\n                Authorization :   `Bearer ${token}`,\r\n            },\r\n        };\r\n        axios.delete(`/annonce/${id}`,authorization)\r\n        .then((res)=> setannonces(annonces.filter((annonces)=>annonces._id !== id)))\r\n        .catch((err)=>console.log(err));\r\n    }\r\n\r\n    const majAnnonce =(annonce)=>{\r\n        setnom(annonce.nom);\r\n        setdescription(annonce.description);\r\n        setprix(annonce.prix);\r\n        setqte(annonce.qte);\r\n        setphoto(annonce.photo);\r\n        setid(annonce._id);\r\n    }\r\n\r\n  return (\r\n    <div>\r\n      \r\n        {\r\n            annonces.map((annonces)=>{\r\n                return(\r\n                <div key={annonces._id}>\r\n                    <p>{annonces.nom}</p>\r\n                    <p>{annonces.prix}</p>\r\n                    <p>{annonces.description}</p>\r\n                    <p>{annonces.photo}</p>\r\n                    <p>{annonces.qteDispo}</p>\r\n                    <button onClick={()=>deleteAnnonce(annonces._id)}>supprimer</button>\r\n                    <button>modifier</button>\r\n                </div>\r\n                \r\n                )  \r\n        })}\r\n        \r\n    </div>\r\n  )\r\n}\r\n"],"mappings":";;AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,OAAOC,KAAK,MAAM,OAAO;AACzB,SAASC,SAAS,QAAQ,OAAO;AAAC;AAGlC,eAAe,SAASC,cAAc,OAUnC;EAAA;EAAA,IAVoC;IACnCC,KAAK;IACLC,QAAQ;IACRC,WAAW;IACXC,MAAM;IACNC,OAAO;IACPC,MAAM;IACNC,cAAc;IACdC,QAAQ;IACRC;EACJ,CAAC;EAIGV,SAAS,CAAC,MAAM;IACZW,OAAO,CAACC,GAAG,CAAC,KAAK,CAAC;IAClB,MAAMC,aAAa,GAAG;MAClBC,OAAO,EAAC;QACJC,aAAa,EAAM,UAASb,KAAM;MACtC;IACJ,CAAC;IACDH,KAAK,CAACiB,GAAG,CAAC,yBAAyB,EAACH,aAAa,CAAC,CACjDI,IAAI,CAAEC,OAAO,IAAG;MAACd,WAAW,CAACc,OAAO,CAACC,IAAI,CAAC;IAAC,CAAC,CAAC,CAC7CC,KAAK,CAAEC,MAAM,IAAG;MAACV,OAAO,CAACC,GAAG,CAACS,MAAM,CAAC;IAAA,CAAC,CAAC;EAE3C,CAAC,EAAC,EAAE,CAAC;EAEL,MAAMC,aAAa,GAAIC,EAAE,IAAG;IACxB,MAAMV,aAAa,GAAG;MAClBC,OAAO,EAAC;QACJC,aAAa,EAAM,UAASb,KAAM;MACtC;IACJ,CAAC;IACDH,KAAK,CAACyB,MAAM,CAAE,YAAWD,EAAG,EAAC,EAACV,aAAa,CAAC,CAC3CI,IAAI,CAAEQ,GAAG,IAAIrB,WAAW,CAACD,QAAQ,CAACuB,MAAM,CAAEvB,QAAQ,IAAGA,QAAQ,CAACwB,GAAG,KAAKJ,EAAE,CAAC,CAAC,CAAC,CAC3EH,KAAK,CAAEQ,GAAG,IAAGjB,OAAO,CAACC,GAAG,CAACgB,GAAG,CAAC,CAAC;EACnC,CAAC;EAED,MAAMC,UAAU,GAAGC,OAAO,IAAG;IACzBzB,MAAM,CAACyB,OAAO,CAACC,GAAG,CAAC;IACnBvB,cAAc,CAACsB,OAAO,CAACE,WAAW,CAAC;IACnC1B,OAAO,CAACwB,OAAO,CAACG,IAAI,CAAC;IACrB1B,MAAM,CAACuB,OAAO,CAACI,GAAG,CAAC;IACnBzB,QAAQ,CAACqB,OAAO,CAACK,KAAK,CAAC;IACvBzB,KAAK,CAACoB,OAAO,CAACH,GAAG,CAAC;EACtB,CAAC;EAEH,oBACE;IAAA,UAGQxB,QAAQ,CAACiC,GAAG,CAAEjC,QAAQ,IAAG;MACrB,oBACA;QAAA,wBACI;UAAA,UAAIA,QAAQ,CAAC4B;QAAG;UAAA;UAAA;UAAA;QAAA,QAAK,eACrB;UAAA,UAAI5B,QAAQ,CAAC8B;QAAI;UAAA;UAAA;UAAA;QAAA,QAAK,eACtB;UAAA,UAAI9B,QAAQ,CAAC6B;QAAW;UAAA;UAAA;UAAA;QAAA,QAAK,eAC7B;UAAA,UAAI7B,QAAQ,CAACgC;QAAK;UAAA;UAAA;UAAA;QAAA,QAAK,eACvB;UAAA,UAAIhC,QAAQ,CAACkC;QAAQ;UAAA;UAAA;UAAA;QAAA,QAAK,eAC1B;UAAQ,OAAO,EAAE,MAAIf,aAAa,CAACnB,QAAQ,CAACwB,GAAG,CAAE;UAAA;QAAA;UAAA;UAAA;UAAA;QAAA,QAAmB,eACpE;UAAA;QAAA;UAAA;UAAA;UAAA;QAAA,QAAyB;MAAA,GAPnBxB,QAAQ,CAACwB,GAAG;QAAA;QAAA;QAAA;MAAA,QAQhB;IAGd,CAAC;EAAC;IAAA;IAAA;IAAA;EAAA,QAEA;AAEV;AAAC,GApEuB1B,cAAc;AAAA,KAAdA,cAAc;AAAA;AAAA"},"metadata":{},"sourceType":"module"}
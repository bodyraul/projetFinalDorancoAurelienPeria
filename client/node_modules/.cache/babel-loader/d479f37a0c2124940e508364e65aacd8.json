{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\aurel\\\\OneDrive\\\\Bureau\\\\projetFinal\\\\client\\\\src\\\\pages\\\\Admin\\\\Admin.jsx\",\n  _s = $RefreshSig$();\nimport React from 'react';\nimport { useEffect } from 'react';\nimport { useContext } from 'react';\nimport { AuthContext } from \"../../Context/AuthContext\";\nimport axios from \"axios\";\nimport { useState } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Admin() {\n  _s();\n  const {\n    token,\n    settoken\n  } = useContext(AuthContext);\n  const [admin, setadmin] = useState(false);\n  const [nonAdmin, setnonAdmin] = useState(\"\");\n  useEffect(() => {\n    const config = {\n      headers: {\n        Authorization: `Bearer ${token}`\n      }\n    };\n    axios.get(\"/admin\", config).then(res => {\n      if (res.data != 'admin') {\n        return setnonAdmin(\"vous n'avez pas l'autorisation d'acceder à cette page.\");\n      }\n      setadmin(true);\n    }).catch(err => setnonAdmin(err.response.data));\n  }, []);\n  if (admin) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: \"Bienvenue sur la page d'admin. Vous pouvez faire une recherche de Post pour en modifier ou supprimer.Vous pouvez \\xE9galement acc\\xE9der aux signalements, que ce soit pour un post non conforme ou un message inapropri\\xE9. Vous pouvez agir en cons\\xE9quence en ayant la possibilit\\xE9 d'envoyer un message d'alerte \\xE0 l'utilisateur ou de le bannir.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 7\n    }, this);\n  }\n  if (!admin) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: nonAdmin\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 11\n    }, this);\n  }\n}\n_s(Admin, \"/u+Ibkq21UrgoYQW2xN7bQNj2UA=\");\n_c = Admin;\nvar _c;\n$RefreshReg$(_c, \"Admin\");","map":{"version":3,"names":["React","useEffect","useContext","AuthContext","axios","useState","Admin","token","settoken","admin","setadmin","nonAdmin","setnonAdmin","config","headers","Authorization","get","then","res","data","catch","err","response"],"sources":["C:/Users/aurel/OneDrive/Bureau/projetFinal/client/src/pages/Admin/Admin.jsx"],"sourcesContent":["import React from 'react'\r\nimport { useEffect } from 'react'\r\nimport { useContext } from 'react';\r\nimport {AuthContext} from \"../../Context/AuthContext\";\r\nimport axios from \"axios\";\r\nimport { useState } from 'react';\r\n\r\nexport default function Admin() {\r\n\r\n  const {token,settoken}  = useContext(AuthContext);\r\n  const [admin, setadmin] = useState(false);\r\n  const [nonAdmin, setnonAdmin] = useState(\"\");\r\n  \r\n\r\n  useEffect(() => {\r\n    const config = {\r\n      headers: {\r\n        Authorization: `Bearer ${token}`,\r\n      },\r\n    };\r\n\r\n    axios.get(\"/admin\",config)\r\n    .then((res)=>{\r\n      if(res.data != 'admin'){\r\n        return setnonAdmin(\"vous n'avez pas l'autorisation d'acceder à cette page.\")\r\n      }\r\n      setadmin(true);\r\n    \r\n    })\r\n    .catch((err)=>setnonAdmin(err.response.data));\r\n    \r\n  }, [])\r\n  \r\n  if(admin){\r\n    return (\r\n      <div >\r\n            Bienvenue sur la page d'admin. Vous pouvez faire une recherche de Post pour en modifier ou supprimer.Vous pouvez également accéder aux signalements,\r\n             que ce soit pour un post non conforme ou un message inaproprié. Vous pouvez agir en conséquence en ayant la possibilité d'envoyer un message d'alerte à l'utilisateur ou de le bannir.\r\n      </div>\r\n    )\r\n  }\r\n    if(!admin){\r\n      return(\r\n          <div>\r\n              {nonAdmin}\r\n          </div>\r\n        )\r\n    \r\n  }\r\n}\r\n"],"mappings":";;AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,SAASC,SAAS,QAAQ,OAAO;AACjC,SAASC,UAAU,QAAQ,OAAO;AAClC,SAAQC,WAAW,QAAO,2BAA2B;AACrD,OAAOC,KAAK,MAAM,OAAO;AACzB,SAASC,QAAQ,QAAQ,OAAO;AAAC;AAEjC,eAAe,SAASC,KAAK,GAAG;EAAA;EAE9B,MAAM;IAACC,KAAK;IAACC;EAAQ,CAAC,GAAIN,UAAU,CAACC,WAAW,CAAC;EACjD,MAAM,CAACM,KAAK,EAAEC,QAAQ,CAAC,GAAGL,QAAQ,CAAC,KAAK,CAAC;EACzC,MAAM,CAACM,QAAQ,EAAEC,WAAW,CAAC,GAAGP,QAAQ,CAAC,EAAE,CAAC;EAG5CJ,SAAS,CAAC,MAAM;IACd,MAAMY,MAAM,GAAG;MACbC,OAAO,EAAE;QACPC,aAAa,EAAG,UAASR,KAAM;MACjC;IACF,CAAC;IAEDH,KAAK,CAACY,GAAG,CAAC,QAAQ,EAACH,MAAM,CAAC,CACzBI,IAAI,CAAEC,GAAG,IAAG;MACX,IAAGA,GAAG,CAACC,IAAI,IAAI,OAAO,EAAC;QACrB,OAAOP,WAAW,CAAC,wDAAwD,CAAC;MAC9E;MACAF,QAAQ,CAAC,IAAI,CAAC;IAEhB,CAAC,CAAC,CACDU,KAAK,CAAEC,GAAG,IAAGT,WAAW,CAACS,GAAG,CAACC,QAAQ,CAACH,IAAI,CAAC,CAAC;EAE/C,CAAC,EAAE,EAAE,CAAC;EAEN,IAAGV,KAAK,EAAC;IACP,oBACE;MAAA;IAAA;MAAA;MAAA;MAAA;IAAA,QAGM;EAEV;EACE,IAAG,CAACA,KAAK,EAAC;IACR,oBACI;MAAA,UACKE;IAAQ;MAAA;MAAA;MAAA;IAAA,QACP;EAGd;AACF;AAAC,GA1CuBL,KAAK;AAAA,KAALA,KAAK;AAAA;AAAA"},"metadata":{},"sourceType":"module"}